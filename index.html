<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>অর্ডার ফর্ম</title>
  <style>
    body {
      font-family: 'SolaimanLipi', Arial, sans-serif;
      margin: 0; padding: 20px;
      background-color: #f5f7fa;
      display: flex; justify-content: center;
    }
    .order-form {
      background: white;
      padding: 25px;
      border-radius: 10px;
      max-width: 600px;
      width: 100%;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    h2 {
      text-align: center;
      margin-bottom: 20px;
      color: #333;
    }
    label {
      display: block;
      margin-top: 15px;
      margin-bottom: 6px;
      font-weight: 600;
      color: #555;
    }
    select, input[type="text"], input[type="submit"] {
      width: 100%;
      padding: 10px 12px;
      font-size: 16px;
      border-radius: 5px;
      border: 1px solid #ccc;
      box-sizing: border-box;
      transition: border-color 0.3s;
    }
    select:focus, input[type="text"]:focus {
      border-color: #007bff;
      outline: none;
    }
    input[readonly] {
      background-color: #e9ecef;
      cursor: not-allowed;
    }
    input[type="submit"] {
      margin-top: 25px;
      background-color: #007bff;
      border: none;
      color: white;
      font-weight: 700;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    input[type="submit"]:hover {
      background-color: #0056b3;
    }
    @media (max-width: 480px) {
      .order-form {
        padding: 15px;
      }
    }
  </style>
</head>
<body>
  <div class="order-form">
    <h2>অর্ডার ফর্ম</h2>

    <!-- FORM action & method মুছে দিয়েছি -->
    <form id="orderForm">

      <label for="product">প্রোডাক্টের নাম :</label>
      <input type="text" id="product" name="product" readonly />

      <label for="totalPrice">দাম :(৳)</label>
      <input type="text" id="totalPrice" name="totalPrice" readonly />

      <label for="qty">পরিমাণ :</label>
      <input type="text" id="qty" name="qty" readonly />

      <label for="name">নাম :</label>
      <input type="text" id="name" name="name" required placeholder="আপনার নাম লিখুন" />

      <label for="phone">মোবাইল নাম্বার :</label>
      <input type="text" id="phone" name="phone" required placeholder="মোবাইল নম্বর লিখুন" />

      <label for="division">বিভাগ</label>
      <select id="division" name="division" required>
        <option value="">-- বিভাগ নির্বাচন করুন --</option>
        <option value="ঢাকা">ঢাকা</option>
        <option value="রংপুর">রংপুর</option>
        <option value="ময়মনসিংহ">ময়মনসিংহ</option>
        <option value="চট্টগ্রাম">চট্টগ্রাম</option>
        <option value="রাজশাহী">রাজশাহী</option>
        <option value="খুলনা">খুলনা</option>
        <option value="বরিশাল">বরিশাল</option>
        <option value="সিলেট">সিলেট</option>
      </select>

      <label for="district">জেলা</label>
      <select id="district" name="district" required disabled>
        <option value="">-- জেলা নির্বাচন করুন --</option>
      </select>

      <label for="thana">থানা/উপজেলা</label>
      <select id="thana" name="thana" required disabled>
        <option value="">-- থানা/উপজেলা নির্বাচন করুন --</option>
      </select>

      <label for="village">গ্রাম / বিস্তারিত ঠিকানা :</label>
      <input type="text" id="village" name="village" required placeholder="গ্রামের নাম লিখুন" />

      <label for="pickup">সংগ্রহের স্থান :</label>
      <input type="text" id="pickup" name="pickup" required placeholder="সংগ্রহের স্থান লিখুন" />

      <input type="submit" value="অর্ডার সাবমিট করুন" />
    </form>
  </div>

  <script>
    const data ={
  "রংপুর": {  
    "রংপুর": ["সদর", "মিঠাপুকুর", "বদরগঞ্জ", "গঙ্গাচড়া", "পীরগঞ্জ", "কাউনিয়া", "তারাগঞ্জ", "হারাগাছ"],  
    "দিনাজপুর": ["দিনাজপুর সদর", "বোচাগঞ্জ", "বিরল", "কাহারোল", "পার্বতীপুর", "ফুলবাড়ী", "নবাবগঞ্জ", "ঘোড়াঘাট", "বিরামপুর", "হাকিমপুর", "চিরিরবন্দর", "খানসামা", "হিলি"],  
    "গাইবান্ধা": ["গাইবান্ধা সদর", "সুন্দরগঞ্জ", "সাদুল্লাপুর", "পলাশবাড়ী", "গোবিন্দগঞ্জ", "ফুলছড়ি", "সাঘাটা"],  
    "কুড়িগ্রাম": ["কুড়িগ্রাম সদর", "নাগেশ্বরী", "ভূরুঙ্গামারী", "রৌমারী", "চিলমারী", "রাজারহাট", "ফুলবাড়ী", "উলিপুর", "রাজিবপুর"],  
    "লালমনিরহাট": ["লালমনিরহাট সদর", "কালীগঞ্জ", "হাতীবান্ধা", "পাটগ্রাম", "আদিতমারী"],  
    "নীলফামারী": ["নীলফামারী সদর", "সৈয়দপুর", "জলঢাকা", "কিশোরগঞ্জ", "ডোমার", "ডিমলা"],  
    "ঠাকুরগাঁও": ["ঠাকুরগাঁও সদর", "পীরগঞ্জ", "রানীশংকৈল", "বালিয়াডাঙ্গী", "হরিপুর"],  
    "পঞ্চগড়": ["পঞ্চগড় সদর", "তেতুলিয়া", "বোদা", "দেবীগঞ্জ", "আটোয়ারী"]  
  },  
  "ময়মনসিংহ": {  
    "ময়মনসিংহ": ["ময়মনসিংহ সদর", "ত্রিশাল", "ভালুকা", "ফুলবাড়িয়া", "মুক্তাগাছা", "গফরগাঁও", "গৌরীপুর", "ঈশ্বরগঞ্জ", "নান্দাইল", "তারাকান্দা", "ফুলপুর", "হালুয়াঘাট", "ধোবাউড়া"],  
    "জামালপুর": ["জামালপুর সদর", "মেলান্দহ", "মাদারগঞ্জ", "ইসলামপুর", "দেওয়ানগঞ্জ", "বকশীগঞ্জ", "সরিষাবাড়ী"],  
    "নেত্রকোণা": ["নেত্রকোণা সদর", "ডামুড্যা", "আটপাড়া", "মদন", "ধোবাউড়া", "বেলকুচি"],  
    "শেরপুর": ["শেরপুর সদর", "নকলা", "নালিতাবাড়ী", "ঝিনাইগাতী", "শ্রীবরদী"]  
  },  
  "বরিশাল": {  
    "বরিশাল": ["বরিশাল সদর", "বানারীপাড়া", "বাকেরগঞ্জ", "গৌরনদী", "মেহেন্দিগঞ্জ", "উজিরপুর", "আগৈলঝাড়া", "বাবুগঞ্জ", "মুলাদী", "হিজলা"],  
    "পটুয়াখালী": ["পটুয়াখালী সদর", "দশমিনা", "কলাপাড়া", "গলাচিপা", "রাঙ্গাবালী", "বাউফল", "দুমকি", "মির্জাগঞ্জ"],  
    "পিরোজপুর": ["পিরোজপুর সদর", "নাজিরপুর", "নেছারাবাদ", "ভান্ডারিয়া", "কাউখালী", "ইন্দুরকানী", "মঠবাড়িয়া"],  
    "বরগুনা": ["বরগুনা সদর", "আমতলী", "তালতলী", "বামনা", "পাথরঘাটা", "বেতাগী"],  
    "ঝালকাঠি": ["ঝালকাঠি সদর", "রাজাপুর", "কাঠালিয়া", "নলছিটি"],  
    "ভোলা": ["ভোলা সদর", "লালমোহন", "তজুমদ্দিন", "চরফ্যাশন", "দৌলতখান", "বোরহানউদ্দিন", "মনপুরা"]  
  },  
  "সিলেট": {  
    "সিলেট": ["সিলেট সদর", "জালালাবাদ", "দক্ষিণ সুরমা", "বিমানবন্দর", "গোয়াইনঘাট", "কোম্পানীগঞ্জ", "জৈন্তাপুর", "কানাইঘাট", "বিয়ানীবাজার", "গোলাপগঞ্জ", "ফেঞ্চুগঞ্জ", "ওসমানীনগর", "বিশ্বনাথ"],  
    "মৌলভীবাজার": ["মৌলভীবাজার সদর", "কুলাউড়া", "রাজনগর", "বড়লেখা", "শ্রীমঙ্গল", "জুড়ী", "কমলগঞ্জ"],  
    "হবিগঞ্জ": ["হবিগঞ্জ সদর", "বানিয়াচং", "লাখাই", "নবীগঞ্জ", "বাহুবল", "শায়েস্তাগঞ্জ", "মাধবপুর", "আজমিরীগঞ্জ", "চুনারুঘাট"],  
    "সুনামগঞ্জ": ["সুনামগঞ্জ সদর", "দিরাই", "জগন্নাথপুর", "ছাতক", "দোয়ারাবাজার", "তাহিরপুর", "ধর্মপাশা", "শাল্লা", "জামালগঞ্জ", "মধ্যনগর", "দক্ষিণ সুনামগঞ্জ"]  
  },  
  "খুলনা": {  
    "খুলনা": ["খুলনা সদর", "কাজীপুর", "তেরখাদা", "বটিয়াঘাটা", "ডুমুরিয়া", "দৌলতপুর", "চালনা", "ডিঙ্গি", "পাইকগাছা", "রূপসা", "কয়রা"],  
    "কুষ্টিয়া": ["কুষ্টিয়া সদর", "ভেড়ামারা", "মিরপুর", "কুমারখালী", "দৌলতপুর", "খোকসা", "রাজাকুন্ডু"],  
    "যশোর": ["যশোর সদর", "ঝিকরগাছা", "কালীগঞ্জ", "চৌগাছা", "বাঘারপাড়া", "শার্শা", "কেশবপুর", "মণিরামপুর", "বেনাপোল", "মোড়েলগঞ্জ", "সরস্বতীপুর"],  
    "মাগুরা": ["মাগুরা সদর", "শালিখা", "মহম্মদপুর", "শ্রীপুর"],  
    "মেহেরপুর": ["মেহেরপুর সদর", "গাংনী", "মুজিবনগর", "কালীগঞ্জ"],  
    "ঝিনাইদহ": ["ঝিনাইদহ সদর", "কালীগঞ্জ", "শৈলকুপা", "মহেশপুর", "হরিণাকুন্ডু", "চুয়াডাঙ্গা (অংশ)"],  
    "সাতক্ষীরা": ["সাতক্ষীরা সদর", "কালীগঞ্জ", "তেঁতুলিয়া", "কলারোয়া", "আশাশুনি", "শ্যামনগর", "দাকোপ"],  
    "চুয়াডাঙ্গা": ["চুয়াডাঙ্গা সদর", "দৌলতপুর", "আলমডাঙ্গা", "দামুড়হুদা"],  
    "নড়াইল": ["নড়াইল সদর", "কালিয়া", "লোহাগড়া"],  
    "বাগেরহাট": ["বাগেরহাট সদর", "কচুয়া", "মোল্লাহাট", "রামপাল", "ফকিরহাট", "মোংলা", "নাজিরপুর", "চিতলমারী", "রুপসা"]  
  },  
  "ঢাকা": {  
    "ঢাকা": ["রমনা", "মতিঝিল", "কোতোয়ালী", "সূত্রাপুর", "ওয়ারী", "গুলশান", "বনানী", "বাড্ডা", "মিরপুর", "পল্লবী", "তেজগাঁও", "মোহাম্মদপুর", "শেরেবাংলা নগর", "আদাবর", "ধানমন্ডি", "লালবাগ", "হাজারীবাগ", "কামরাঙ্গীরচর", "ডেমরা", "যাত্রাবাড়ী", "কদমতলী", "মুগদা", "সাভার", "আশুলিয়া", "দারুসসালাম", "খিলগাঁও", "রামপুরা", "উত্তরা পশ্চিম", "উত্তরা পূর্ব", "বিমানবন্দর", "কেরানীগঞ্জ", "নবাবগঞ্জ", "দোহার"],  
    "গাজীপুর": ["গাজীপুর সদর", "টঙ্গী", "কালীগঞ্জ", "কাপাসিয়া", "কালিয়াকৈর"],  
    "নারায়ণগঞ্জ": ["নারায়ণগঞ্জ সদর", "ফতুল্লা", "সিদ্ধিরগঞ্জ", "বন্দর", "রূপগঞ্জ", "আড়াইহাজার", "সোনারগাঁও"],  
    "কিশোরগঞ্জ": ["কিশোরগঞ্জ সদর", "করিমগঞ্জ", "কটিয়াদী", "বাজিতপুর", "কুলিয়ারচর", "হোসেনপুর", "পাকুন্দিয়া", "মিঠামইন", "ইটনা", "অষ্টগ্রাম", "ভৈরব", "নিকলী", "তাড়াইল"],  
    "মুন্সিগঞ্জ": ["মুন্সিগঞ্জ সদর", "গজারিয়া", "লৌহজং", "শ্রীনগর", "টংগিবাড়ী", "সিরাজদিখান"],  
    "মানিকগঞ্জ": ["মানিকগঞ্জ সদর", "সাটুরিয়া", "সিংগাইর", "দৌলতপুর", "ঘিওর", "শিবালয়", "হরিরামপুর"],  
    "রাজবাড়ী": ["রাজবাড়ী সদর", "গোয়ালন্দ", "পাংশা", "বালিয়াকান্দি", "কালুখালী"],  
    "মাদারীপুর": ["মাদারীপুর সদর", "কালকিনি", "রাজৈর", "শিবচর", "ডাসার"],  
    "গোপালগঞ্জ": ["গোপালগঞ্জ সদর", "টুঙ্গিপাড়া", "কাশিয়ানী", "কোটালীপাড়া", "মুকসুদপুর"],  
    "শরীয়তপুর": ["শরীয়তপুর সদর", "জাজিরা", "ডামুড্যা", "নড়িয়া", "ভেদরগঞ্জ", "গোসাইরহাট"],  
    "ফরিদপুর": ["ফরিদপুর সদর", "বোয়ালমারী", "নগরকান্দা", "মধুখালী", "আলফাডাঙ্গা", "ভাঙ্গা", "চরভদ্রাসন", "সালথা", "সদরপুর"],  
    "টাঙ্গাইল": ["টাঙ্গাইল সদর", "ঘাটাইল", "দেলদুয়ার", "বাসাইল", "মির্জাপুর", "কালিহাতী", "গোপালপুর", "ভূঞাপুর", "নাগরপুর", "সখীপুর", "ধনবাড়ী", "মধুপুর"],  
    "নরসিংদী": ["নরসিংদী সদর", "পলাশ", "শিবপুর", "মনোহরদী", "রায়পুরা", "বেলাবো"]  
  },  
  "চট্টগ্রাম": {  
    "চট্টগ্রাম": ["কোতোয়ালী", "চকবাজার", "পাঁচলাইশ", "খুলশী", "আকবরশাহ", "বায়েজিদ বোস্তামী", "পাহাড়তলী", "হালিশহর", "ডবলমুরিং", "বন্দর", "ইপিজেড", "কর্ণফুলী", "পতেঙ্গা", "সদরঘাট", "আগ্রাবাদ", "সীতাকুণ্ড", "মিরসরাই", "ফটিকছড়ি", "রাউজান", "রাঙ্গুনিয়া", "হাটহাজারী", "পটিয়া", "বোয়ালখালী", "আনোয়ারা", "চন্দনাইশ", "সাতকানিয়া", "লোহাগাড়া", "বাঁশখালী", "সন্দ্বীপ", "কর্ণফুলী (গ্রামীণ অংশ)"],  
    "কক্সবাজার": ["কক্সবাজার সদর", "চকরিয়া", "টেকনাফ", "উখিয়া", "মহেশখালী", "পেকুয়া", "রামু", "কুতুবদিয়া"],  
    "কুমিল্লা": ["কুমিল্লা সদর", "লাকসাম", "তিতাস", "মনোহরগঞ্জ", "দাউদকান্দি", "নাঙ্গলকোট", "বরুড়া", "হোমনা", "দেবিদ্বার", "বুড়িচং", "মুরাদনগর", "মেঘনা", "চান্দিনা"],  
    "রাঙ্গামাটি": ["রাঙ্গামাটি সদর", "কাপ্তাই", "বাঘাইছড়ি", "বিলাইছড়ি", "জুরাছড়ি", "লংগদু", "রাজস্থলী", "বরকল", "নানিয়ারচর"],  
    "খাগড়াছড়ি": ["খাগড়াছড়ি সদর", "মাটিরাঙ্গা", "মানিকছড়ি", "পানছড়ি", "রামগড়", "মহালছড়ি", "দীঘিনালা", "লক্ষীছড়ি", "গুইমারা"],  
    "বান্দরবান": ["বান্দরবান সদর", "আলীকদম", "থানচি", "লামা", "নাইক্ষ্যংছড়ি", "রুমা", "রোয়াংছড়ি"],  
    "লক্ষ্মীপুর": ["লক্ষ্মীপুর সদর", "রামগঞ্জ", "রামগতি", "কমলনগর", "রায়পুর"],  
    "ফেনী": ["ফেনী সদর", "দাগনভূঞা", "ছাগলনাইয়া", "পরশুরাম", "ফুলগাজী", "সোনাগাজী"],  
    "নোয়াখালী": ["নোয়াখালী সদর", "কোম্পানীগঞ্জ", "সুবর্ণচর", "সোনাইমুড়ি", "হাতিয়া", "কবিরহাট", "চাটখিল", "সেনবাগ", "বেগমগঞ্জ"],  
    "চাঁদপুর": ["চাঁদপুর সদর", "হাজীগঞ্জ", "ফরিদগঞ্জ", "শাহরাস্তি", "কচুয়া", "মতলব উত্তর", "মতলব দক্ষিণ"],  
    "ব্রাহ্মণবাড়িয়া": ["ব্রাহ্মণবাড়িয়া সদর", "নবীনগর", "কসবা", "সরাইল", "আশুগঞ্জ", "বাঞ্ছারামপুর", "বিজয়নগর", "আখাউড়া"]  
  },  
 
  "রাজশাহী": {
    "রাজশাহী": [
      "বোয়ালিয়া মডেল", "রাজপাড়া", "শাহ মখদুম", "মতিহার",
      "পবা", "বাগমারা", "গোদাগাড়ী", "চারঘাট",
      "দূর্গাপুর", "মোহনপুর", "পুঠিয়া", "তানোর"
    ],
    "নাটোর": [
      "নাটোর সদর", "নলডাঙ্গা", "বড়াইগ্রাম",
      "বাগাতিপাড়া", "লালপুর", "গুরুদাসপুর", "সিংড়া"
    ],
    "নওগাঁ": [
      "নওগাঁ সদর", "মহাদেবপুর", "মান্দা", "আত্রাই",
      "রাণীনগর", "পত্নীতলা", "ধামইরহাট",
      "সাপাহার", "পোরশা", "নিয়ামতপুর", "বদলগাছী"
    ],
    "পাবনা": [
      "পাবনা সদর", "ঈশ্বরদী", "আটঘরিয়া", "সাঁথিয়া",
      "সুজানগর", "বেড়া", "ভাঙ্গুড়া", "চাটমোহর", "ফরিদপুর (পাবনা)"
    ],
    "বগুড়া": [
      "বগুড়া সদর", "শাহজাহানপুর", "গাবতলী",
      "শেরপুর", "শিবগঞ্জ", "সোনাতলা", "ধুনট",
      "সারিয়াকান্দি", "দুপচাঁচিয়া", "আদমদিঘি",
      "কাহালু", "নন্দীগ্রাম"
    ],
    "জয়পুরহাট": [
      "জয়পুরহাট সদর", "আক্কেলপুর",
      "কালাই", "পাঁচবিবি", "ক্ষেতলাল"
    ],
    "চাঁপাইনবাবগঞ্জ": [
      "চাঁপাইনবাবগঞ্জ সদর", "শিবগঞ্জ",
      "গোমস্তাপুর", "নাচোল", "ভোলাহাট"
    ],
    "সিরাজগঞ্জ": [
      "সিরাজগঞ্জ সদর", "কামারখন্দ", "কাজিপুর",
      "রায়গঞ্জ", "তাড়াশ", "উল্লাপাড়া",
      "শাহজাদপুর", "বেলকুচি", "চৌহালী"
    ]
  }
};

    const divisionSelect = document.getElementById("division");
    const districtSelect = document.getElementById("district");
    const thanaSelect = document.getElementById("thana");

    window.addEventListener('DOMContentLoaded', () => {
      districtSelect.disabled = true;
      thanaSelect.disabled = true;

      const urlParams = new URLSearchParams(window.location.search);
      const product = urlParams.get('product');
      const price = urlParams.get('price');
      const qty = urlParams.get('qty');

      if (product) document.getElementById('product').value = product;
      if (price) document.getElementById('totalPrice').value = price;
      if (qty) document.getElementById('qty').value = qty;
    });

    divisionSelect.addEventListener("change", function() {
      const division = this.value;
      districtSelect.innerHTML = '<option value="">-- জেলা নির্বাচন করুন --</option>';
      thanaSelect.innerHTML = '<option value="">-- থানা/উপজেলা নির্বাচন করুন --</option>';
      thanaSelect.disabled = true;

      if (division && data[division]) {
        Object.keys(data[division]).forEach(district => {
          const option = document.createElement("option");
          option.value = district;
          option.textContent = district;
          districtSelect.appendChild(option);
        });
        districtSelect.disabled = false;
      } else {
        districtSelect.disabled = true;
      }
    });

    districtSelect.addEventListener("change", function() {
      const division = divisionSelect.value;
      const district = this.value;
      thanaSelect.innerHTML = '<option value="">-- থানা/উপজেলা নির্বাচন করুন --</option>';

      if (division && district && data[division] && data[division][district]) {
        data[division][district].forEach(thana => {
          const option = document.createElement("option");
          option.value = thana;
          option.textContent = thana;
          thanaSelect.appendChild(option);
        });
        thanaSelect.disabled = false;
      } else {
        thanaSelect.disabled = true;
      }
    });

    document.getElementById('orderForm').addEventListener('submit', async function(e) {
      e.preventDefault();

      const fields = [
        'product', 'totalPrice', 'qty', 'name', 'phone',
        'division', 'district', 'thana', 'village', 'pickup'
      ];

      for (const id of fields) {
        const el = document.getElementById(id);
        if (!el.value.trim()) {
          alert(el.previousElementSibling.textContent + ' অবশ্যই পূরণ করতে হবে।');
          el.focus();
          return;
        }
      }

      const formData = new FormData(this);

      try {
        const response = await fetch('/.netlify/functions/sendEmail', {
          method: 'POST',
          body: formData
        });

        if (response.ok) {
          alert('অর্ডার সফলভাবে পাঠানো হয়েছে। ধন্যবাদ!');
          this.reset();
        } else {
          alert('অর্ডার পাঠাতে সমস্যা হয়েছে, আবার চেষ্টা করুন।');
        }
      } catch (error) {
        alert('কোনো সমস্যা হয়েছে, অনুগ্রহ করে আবার চেষ্টা করুন।');
      }
    });
  </script>
</body>
</html>